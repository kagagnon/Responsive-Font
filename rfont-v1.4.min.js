/*!
 * Responsive Font - version 1.3 2014-05-12
 * Follow me on twitter : https://twitter.com/gagnon_KA
 *
 * Copyright (c) 2013 Karl-AndrÃ© Gagnon
 * GIT hub project page : https://github.com/kagagnon/Responsive-Font/
 * 
 * Not compatibility tested yet (Work in IE8, firefox, chrome, safari...)
 * Post every compatibility error on the GIT project page
 */
(function(e){function i(e){r.push(this);this.selector=e;this.watchPoint={width:{},height:{}};this.setValue=n.value;this.mediaOrientation=n.mediaOrientation;this.important=n.override?"!important":"";this.styleTag=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(this.styleTag);this.styleTag.setAttribute("type","text/css");try{this.styleTag.innerHTML=this.selector+"{}"}catch(t){this.styleTag.styleSheet.cssText=this.selector+"{}"}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(e,t){var n,r=t?t:0,i;if(!this){throw new TypeError}i=this.length;if(i===0||r>=i){return-1}if(r<0){r=i-Math.abs(r)}for(n=r;n<i;n++){if(this[n]===e){return n}}return-1}}var t={viewport:function(){var e=window,t="inner";if(!("innerWidth"in window)){t="client";e=document.documentElement||document.body}return{width:e[t+"Width"],height:e[t+"Height"]}},resize:function(){if(n.throttle){clearTimeout(t.resize.timer);t.resize.timer=setTimeout(t.loopObj,n.throttleDelay)}else{t.loopObj()}},loopObj:function(){for(var e=0,t=r.length;e<t;e++){r[e].update()}}};if(e.addEventListener)e.addEventListener("resize",t.resize);else e.attachEvent("onresize",t.resize);t.resize.timer;var n;e.rf=n=function(e){return new i(e)};n.value="px";n.throttle=false;n.throttleDelay=500;n.override=false;n.mediaOrientation="width";n.options=function(e){for(x in e){n[x]=e[x]}};n.allObj=function(e){for(var t=0,n=r.length;t<n;t++){e.call(r[t],t,r[t])}};var r=[];i.prototype={changeSelector:function(e){this.selector=e;this.styleTag.innerHTML=this.styleTag.innerHTML.replace(/.*\{/,this.selector+"{")},setQueryPoint:function(e,t){if(typeof t!=="string")t="";t=t.toLowerCase()==="height"?"height":t.toLowerCase()==="width"?"width":null;if(t===null)t=this.mediaOrientation.match(/^(width|height)$/g).length?this.mediaOrientation.toLowerCase():"width";for(x in e){this.watchPoint[t][x]=e[x]}return this.update()},fontValue:function(e){if(typeof e==="undefined"){return this.setValue}else{this.setValue=e;return this.update()}},update:function(){var e=t.viewport(),n=[],r=[],i,s,o,u;for(x in this.watchPoint.width){n.push(x)}for(x in this.watchPoint.height){r.push(x)}n=n.sort(function(e,t){return+e>+t?1:-1});r=r.sort(function(e,t){return+e>+t?1:-1});if(n.length>0){for(var a=0,f=n.length;a<f;a++){if(n[a]<=e.width){i=n[a];s=n[a+1]}else break}if(!i&&i!=0){i=n[0]||0}if(typeof this.watchPoint.width[i]!=="undefined"){if(typeof s!=="undefined"){var l=this.watchPoint.width[i],c=this.watchPoint.width[s],h=(e.width-i)/(s-i)*(c-l)+l}else{var h=this.watchPoint.width[i]}}}if(r.length>0){for(var p=0,f=r.length;p<f;p++){if(r[p]<=e.height){o=r[p];u=r[p+1]}else break}if(!o&&o!=0){o=r[0]||0}if(typeof this.watchPoint.height[o]!=="undefined"){if(typeof u!=="undefined"){var l=this.watchPoint.height[o],c=this.watchPoint.height[u],d=(e.height-o)/(u-o)*(c-l)+l}else{var d=this.watchPoint.height[o]}}}var v=+!!h+ +!!d;var m="font-size : "+((h||0)+(d||0))/v+this.setValue+this.important;try{this.styleTag.innerHTML=this.styleTag.innerHTML.replace(/\{.*\}/,"{"+m+"}")}catch(g){this.styleTag.styleSheet.cssText=this.styleTag.styleSheet.cssText.replace(/\{[\s\S]*\}/m,"{"+m+"}")}return this},remove:function(){r.splice(r.indexOf(this),1);document.getElementsByTagName("head")[0].removeChild(this.styleTag)},isImportant:function(e){if(e===undefined||e){this.important="!important"}else{this.important=""}return this.update()}}})(window)
